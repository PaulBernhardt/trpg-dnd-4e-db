<!DOCTYPE html><html><head><meta charset="utf-8" />
<!--
  - html_doctype.html
  - Doctype and meta declarations
  -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
/*
 * style.css
 */

html, body, div, th, td { margin: 0; padding: 0; }

body > div {
}
/*
 * html_header.html
 * Title, link, etc.
 */
  </style>
  <title> Offline Compendium </title>
</head><body>
<script>'use strict';
/*
 * code_util.js
 * Utility codes, including initial detection of browser feature and no script.
 */

// Main namespace
var oddi = {};
 
// Simple check for browser features
if ( ! document.querySelectorAll || !window.Storage ) {
   alert('Please upgrade browser.');
}
 
function _( cssSelector ) {
   return document.querySelectorAll( cssSelector );
}

</script><noscript>
   <h1> Please enable JavaScript </h1>
   <h1> 請啓用 JavaScript </h1>
</noscript><script>'use strict';
/*
 * code_gui.js
 * GUI-related codes, but activity-specific codes are coded with activities.
 */
 
// Switch to index action on domready
window.addEventListener('DOMContentLoaded',function(){ oddi.gui.switch_action( oddi.action.index ); },false);

// Action object. Would be populated by individual actions
oddi.action = {};

// 
oddi.gui = {
   /** Current action */
   action: null,
   
   switch_action :
      /**
       * Switch between actions. Would call action object's cleanup method for current action and setup method for next action.
       */
      function gui_switch_action( action ) {
         var currentAction = oddi.gui.action;
         if ( !action || action == currentAction ) return;

         // Pre-switch validation & cleanup
         if ( currentAction && currentAction.cleanup && currentAction.cleanup( action ) === false ) return false;

         Array.prototype.forEach.call(_("body > div[id]"), function(e){ e.style.display = ''; });
         _( "#"+action.id )[0].style.display = 'block';

         // Post-switch setup
         if ( action.setup ) action.setup( action );

         oddi.gui.action = action;
      }
}

</script><!--
  - action_index.html
  - Shows introduction and instrructions
  -->
<div id='action_index'>
   <h1>Offline Compendium</h1>
   <p>
      This browser script allows you to download and save compendium entries, then search and browse them offline.
      <b>Requires an active DDI subscription to download any data.</b>
   </p>
</div>
<script>'use strict';

oddi.action.index = {
   id: 'action_index'
};

</script><!--
  - action_download.html
  - Opens an iframe to compendium and shows overlaid buttons
  -->
<div id='action_download'>
</div>
<!--
  - action_list.html
  - List and search downloaded entries
  -->
<div id='action_list'>
</div>
<!--
  - action_view.html
  - View entries details
  -->
<div id='action_view'>
</div>
<script>'use strict';
/*
 * data_model.js
 * Create data model in memory
 */
</script><script>'use strict';
/*
 * data_read.js
 * Read data from persistent storage
 */
</script><script>'use strict';
/*
 * data_download.js
 * Download and extract data from Internet to data model
 */
</script><script>'use strict';
/*
 * data_index.js
 * Build index from data model.
 */
</script><script>'use strict';
/*
 * data_write.js
 * Write data model to persistent storage.
 * This part needs file permission and currently only works with Firefox
 */
</script><script>'use strict';
/*
 * data_search.js
 * Search in data model.
 */
</script><!--
  - html_footer.html
  - The footer
  -->
</body></html>