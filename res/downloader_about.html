<!DOCTYPE html><html>
<head>
   <title>Offline 4e Compendium - Help</title>
   <meta charset="UTF-8">
   <style>
* { box-sizing: border-box; }
html, body {
   background: #DDD;
   font: sans-serif;
   margin: 0;
   min-height: 100%;
   padding: 0;
   width: 100%;
   }

main {
   margin: 1em;
   padding-bottom: 1em;
   }
   h2 {
      margin-top: 1em;
      }

a {
   text-decoration: none;
   }

li {
   margin-bottom: 1ex;
   }

iframe {
   width: 100%;
   }
   </style>
</head><body>
   <main>
      <h1> 4e Compendium (v3.5) Downloader </h1>
      <p>
         This is a program for reading <a href='http://www.wizards.com/dndinsider/compendium/database.aspx'>D&amp;D Compendium</a>,
         the official database of Dungeons &amp; Dragonsâ„¢ 4<sup>th</sup> edition resources,
         and save it for offline use.
         An active (paid) account is required to run the initial download.
      </p>
      <section>
         <p style='float:right'><a href='https://youtu.be/aNDze9Ok5fE'>(Open video in browser)</a></p>
         <h2 id='help'>How to Use</h2>
         <iframe src="https://www.youtube.com/embed/aNDze9Ok5fE" frameborder="0" allowfullscreen></iframe>
         <script>(function(){
            var video = document.querySelector( 'iframe' );
            function resizeVideo () {
               video.style.height = Math.round( video.clientWidth / 16 * 9 ) + 'px';
            }
            resizeVideo();
            addEventListener( 'resize', resizeVideo );
         })()</script>
         <ol>
            <li>
               <b>You need an active (paid) <a href='https://store.digitalriver.com/store/dndi/DisplayHelpPage'>D&amp;D Insider subscription</a>.</b> <br/>
               You can check / recover your DDI account from its <a href='http://ddi.wizards.com/'>official site.</a>
               This program cannot access protected content without an active subscription.
            </li>
            <li>
               <b>Fill the login in Data tab.</b> <br/>
               This downloader relies on you to fill in correct DDI login information.
               It'll only send your login to the DDI site.
               Password is remembered <a href='http://stackoverflow.com/questions/1320709/preference-api-storage'>on your pc</a> (but not with saved data); delete it after download to be safe.
            </li>
            <li>
               <b>Click "Download" and leave it running</b> <br/>
               The download process takes at least a day or longer.
               Progress is saved in real time, so it can be stopped mid-way and it will resume from there next time.
               The download step requires Internet connection and an active subscription.
            </li>
            <li>
               <b>Click "Export" and save it somewhere </b> <br/>
               Once data is complete, the download button will become export button.
               Export is a process of converting downloaded data into a form that web browsers can read.
               It starts anew every time, usually takes a few minutes, and need 1GB memory.
            </li>
            <li>
               <b>(Optional) Transfer the exported file and data to mobile devices </b> <br/>
               The exported <code>.html</code> file can be opened in most browser,
               and it comes with a same named folder that contains the data.
               You can copy the file and the folder to other PC or <a href='https://www.google.com/search?q=transfer+file+to+android'>mobile devices</a>.
            </li>
            <li>
               If you find a <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/#user-content-fixed-errors'>typo or mistake</a> in the data, please <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/'>file an issue</a>.
               I cannot update the official compendium, but I can update this downloader's corrections.
            </li>
         </ol>
      </section>
      <section>
         <h2 id='faq'> Troubleshoot (Download)</h2>
         <ol>
            <li>
               <b>How to get DDI subscription?</b> <br/>
               <ol>
                  <li>First, you to login or create a <a href='https://accounts.wizards.com/'>wizards account</a>, so that you can login to <a href='http://ddi.wizards.com/'>DDI</a>.</li>
                  <li>A new subscriptions can be purchased from <a href='http://gc.digitalriver.com/store/dndi/html/pbPage.wizards'>digitial river</a>, which handles subscription payments.</li>
                  <li>Once paid, you can <a href='https://wizards.custhelp.com/app/answers/detail/a_id/2297/=1.01'>disable auto-renew</a> by viewing the new order and follow its manage link.</li>
               </ol>
            </li>
            <li>
               <b>Cannot open / read / write database</b> <br/>
               Data is stored in "dnd4_compendium.database", and a backup is normally in the same folder which you can try to manually restore. <br/>
               If that doesn't help, try "Clear Data" in option tab.  You will need to re-download all data after clear.
            </li>
            <li>
               <b>Connection timeout</b> <br/>
               Increase the timeout period in option tab; long pages like power list will take a while to retrieve.
               Can also mean a broken or blocked Internet connection.
            </li>
            <li>
               <b>Connection reset</b> <br/>
               Try increase retry count in option tab, or try a more stable network.
            </li>
            <li>
               <b>Slow download</b> <br/>
               <i>Whoever is patient has great understanding, but one who is quick-tempered displays folly.</i> - Proverbs 14:29 <br/>
               Decrease the throttle rate in option tab, but there are 25k pieces of data to download after all.
               That is 14 hours if you can crawl at 1 page per 2 seconds.
            </li>
            <li>
               <b>Slow export</b> <br/>
               Temporary disable anti-virus before export.
               (Windows has a default AV called Windows Defender.)
               You can also add the export location to the anti-virus' white list. <br/>
               Alternatively, get a faster computer.
               My development PC can go from startup to finish export in 8 seconds.
            </li>
            <li>
               <b>~ failed (script error)</b> <br/>
               This means the login form or compendium has changed (again).
               May need a programmer to solve this one. See "other download errors" below.
            </li>
            <li>
               <b>Unknown host</b> <br/>
               1) Network issue. Try again later. <br/>
               2) Your network is blocking the site, for example some company networks block gaming sites. <br/>
               3) Wizards finally pulled the plug on ddi.wizards.com.
            </li>
            <li>
               <b>Other download errors</b> <br/>
               Some one-off problems can be solved by closing and rerunning the program. <br/> <br/>

               For persistent problems, if you enable debug tabs and restart, you can see a detailed log,
               and can also see and control the embedded browser.
               To report <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/'>an issue</a>,
               please include the log in addition to the steps to reproduce. <br><br>

               In case this program is no longer maintained,
               <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/26'>some</a> <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/27'>errors</a>
               may be solved by using another Java or an older Java,
               such as Oracle Java SE 1.8.0.91. <br/> <br/>

               Alternatively, some problems may be solvable with the embedded browser.
               For example if there is a login problem because Wizards changed the login system,
               you can try to manually login from this browser.
               This may allows downloads to proceed normally.<br/>
            </li>
         </ol>
         <h2 id='faq_export'> Troubleshoot (Export)</h2>
         <ol>
            <li>
               <b>Not enough space</b> <br/>
               Check the drive's free space.
               Exported data takes up 60 MB,
               but some devices <a href='http://www.howtogeek.com/180369/why-is-there-a-big-difference-between-size-and-size-on-disk/'>may require</a> 100+ MB.
               <br/>
               If you are overwriting an export from older version (3.5.1 or before), please delete old export first.
               New version use a more efficient format that dramatically reduce waste space and speedup file copy.
            </li>
            <li>
               <b>Out of Memory</b>
               This one is always hard.  You may get this error, or the program may become unstable.
               Try hiding debug log, disable data compression, set thread count to 1, and re-launch the program to run a fresh export.
            </li>
            <li>
               <b>Data is wrong / different from official compendium</b> <br/>
               Known errors of the official compendium will be fixed during export, in addition to other enhancements.
               See <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/#user-content-fixed-errors'>project homepage</a> for a summary,
               and the in-app debug log will log each affected entry. <br/>
               Alternatively, you may use the Option tab's data dump to access unmodified data.
            </li>
            <li>
               <b>How to extract the data?</b> <br/>
               Go to options tab, click on "Dump Data", and select the dump file from the save file dialog.
            </li>
            <li>
               <b>I want the data in XXX format.</b> <br/>
               You can file <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/'>an issue</a> to request it. <br/>
               The current format list is pretty comprehensive and representative of how far I'd go. <br/>
               No txt because txt has no standard.  No Oracle SQL because it is too different.  No Word or pdf because it's almost impossible. etc.
            </li>
            <li>
               <b>Dumped data is incomplete</b> <br/>
               1) Official data contains empty entries, and some other miss a good chunk of their content.<br/>
               <br/>
               2) The tools that read the dump have its limits.<br/>
               For example Excel has a <a href='https://support.office.com/en-us/article/Excel-specifications-and-limits-ca36e2dc-1f09-4620-b726-67c00b05040f'>32k character limits</a> per cell.
               It will chop off longer data when it reads the csv/tsv dump.
               <br/>
               3) The raw data depends on online images and css, the same as official compendium.<br/>
               If you dump the data in HTML format, they can recreate the original view when online.
            </li>
            <li>
               <b>Cannot import dumped data</b> <br/>
               1) See above question, especially the limit part.
               <br/>
               2) The data contains Unicode characters and are in UTF-8 format.<br/>
               Program that does not use Unicode by default may display garbage or throw error.
               <br/>
               3) For SQL, the export is tested on latest database during development, at default settings: <br/>
               MySQL 5.7, SQL Server 2016, and Postgre 9.6. <br/>
               Older versions may not support the syntax being used, which you can fix with search and replace.
               <br/>
               4) For Excel (xlsx), the export opens without error in Excel 2013.<br/>
               As of Jan 2017, Google Sheet cannot import the data regardless of the format for unknown reason.
               If you ask for their support and they reply something useful, please file <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/issues/'>an issue</a>.
            </li>
         </ol>
      </section>
      <section>
         <h2 id='about'> About </h2>
         <p>
            This downloader and the exported compendium is open source, licensed under <a href='https://www.gnu.org/licenses/agpl-3.0.en.html'>GNU Affero GPL v3</a>.
            Complete source code is available from <a href='https://github.com/Sheep-y/trpg-dnd-4e-db/'>project homepage</a> on github.
         </p>
         <p>
            This downloader uses <a href='http://sqljet.com/'>SQLJet (v1.1)</a>, <a href='http://svn.sqljet.com/repos/sqljet/branches/1.1.x/LICENSE.txt'>licensed</a> under <a href='https://www.gnu.org/licenses/gpl-2.0.en.html'>GNU GPL v2</a>.
            SQLJet uses <a href='http://www.antlr3.org/'>ANTLR (v3.5)</a>, <a href='http://www.antlr3.org/license.html'>licensed</a> under <a href='https://opensource.org/licenses/BSD-3-Clause'>3-Clause BSD</a>.
            Program icon derived from RRZEicons's <a href='https://commons.wikimedia.org/wiki/File:Database.svg'>database</a> and pixabay's <a href='https://commons.wikimedia.org/wiki/File:Dragon-154551.svg'>dragon</a>.
         </p>
         <p>
            <small> The free licenses apply to code and related resources, not to the data you downloaded.<br/>
            Dungeons &amp; Dragons is a trademark of Wizards of the Coast LLC. </small>
         </p>
      </section>
   </main>
   <script>
   [].forEach.call( document.querySelectorAll( 'a' ), function ( a ) {
      a.target = '_blank';
   } );
   </script>
</body></html>